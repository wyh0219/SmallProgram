<template>
    <view class="box">
        <view class="content">
                <view class="tit">
                    {{getData.title}}
                </view>
                <view class="z">进行中</view>
                <view class="times">
                    <view>
                        报名时间：04/08 00:00 - 04/06:23:59
                    </view>
                    <view>
                        <text wx:if="{{getData.person}}">报名人数：0/{{getData.person}}</text>
                        <text wx:else>报名人数：0</text>
                    </view>
                    <view>
                        活动时间：04/08 08:00-04/08 10:00
                    </view>
                </view>
                <view>
                    发起人：温延会
                </view>
                <view class="add">
                    <view class="name">
                        <text class="count">已报名({{getData.count}})</text>
                        <text>详细数据</text>
                    </view>
                    <view>
                        <repeat for="{{getData.joinList}}">
                            <view class="yes" @tap="detail">
                                <view>
                                    <view>
                                        <text>{{item.name}}</text>
                                    </view>
                                    <view>
                                        {{item.time}}
                                    </view>
                                </view>
                                <view>报名成功</view>
                            </view>
                        </repeat>
                    </view>
                </view>
        </view>
        <view class="join" @tap="join">
            <view>我要参加</view>
        </view>
    </view>
</template>

<script>
import wepy from 'wepy';
import {connect} from 'wepy-redux'
import {COUNT} from '../store/types/sign';
@connect(
    {
        getData(state){
            
            return state.signStore
        }
    },
    {
        count:COUNT
    }
)

export default class Detail extends wepy.page {
    methods={
        detail(){
            wx.navigateTo({
                url:"/pages/join?in="+1
            })
        },
        join(){
            wx.navigateTo({
                url:"/pages/join"
            })
        }
    }
}
</script>

<style>
.yes{
    width: 100%;
    display: flex;
    justify-content: space-between;
    margin: 5px 0;
}
page{
    width: 100%;
    height: 100%;
    overflow: hidden;
}
.box{
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
}
.content{
    flex: 1;
    width: 100%;
    overflow: hidden;
    overflow-y: auto
}
.join{
    height: 44px;
    text-align: center;
    line-height: 44px;
}
.join>view{
    background: skyblue;
    color: #fff;
    line-height: 44px;
}
.count{
    color: skyblue;
}
.name{
    width: 100%;
    display: flex;
}
.name>text{
    flex: 1;
    text-align: center;
    line-height: 30px;
}
.times>view{
    line-height: 30px;
    font-size: 30rpx;
    color: #666;
}
.tit{
    font-weight: bold;
    font-size: 36rpx;
}
.z{
    color: skyblue;
}
</style>
